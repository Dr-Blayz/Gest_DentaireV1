<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Détails du patient</title>
    <script src="https://cdn.tailwindcss.com"></script>

</head>
<body>
<div class="flex ">
<div th:insert="Composant/sidebare :: aside"></div>
<div class="container mx-auto ">
    <div class="flex-1 p-2">

    <header th:insert="Composant/header.html :: header"></header>

    <h1 class="text-3xl font-bold mb-4">Détails du patient</h1>
    <div class="bg-white shadow-md rounded-lg overflow-hidden">
        <div class="pt-3 pl-3">
            <div class="flex">

                <div class="mb-4">
                    <p class="text-gray-900 mb-3" th:text="'#' + ${patient.id_Patient}"></p>
                    <img src="/static/images/Usr.png" alt="TestImage" class="object-fill h-12 w-12">
                </div>
                <div class="mb-4 flex-col items-center space-x-2">
                    <div class="flex mt-7 ml-2">
                    <p class="text-gray-900" th:text="${patient.nom_Patient} + ' ' + ${patient.prenom_Patient}"></p>
                    </div>
                    <div class="flex">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" class="size-5">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 8.25v-1.5m0 1.5c-1.355 0-2.697.056-4.024.166C6.845 8.51 6 9.473 6 10.608v2.513m6-4.871c1.355 0 2.697.056 4.024.166C17.155 8.51 18 9.473 18 10.608v2.513M15 8.25v-1.5m-6 1.5v-1.5m12 9.75-1.5.75a3.354 3.354 0 0 1-3 0 3.354 3.354 0 0 0-3 0 3.354 3.354 0 0 1-3 0 3.354 3.354 0 0 0-3 0 3.354 3.354 0 0 1-3 0L3 16.5m15-3.379a48.474 48.474 0 0 0-6-.371c-2.032 0-4.034.126-6 .371m12 0c.39.049.777.102 1.163.16 1.07.16 1.837 1.094 1.837 2.175v5.169c0 .621-.504 1.125-1.125 1.125H4.125A1.125 1.125 0 0 1 3 20.625v-5.17c0-1.08.768-2.014 1.837-2.174A47.78 47.78 0 0 1 6 13.12M12.265 3.11a.375.375 0 1 1-.53 0L12 2.845l.265.265Zm-3 0a.375.375 0 1 1-.53 0L9 2.845l.265.265Zm6 0a.375.375 0 1 1-.53 0L15 2.845l.265.265Z" />
                        </svg>

                        <p class="text-gray-900" th:text="${patient.dateNaissance}"></p>
                    </div>
                    <div class="flex">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" class="size-5">
                        <path stroke-linecap="round" stroke-linejoin="round" d="m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
                    </svg>
                    <p class="text-gray-900" th:text="${patient.adresse_Patient}"></p>
                    </div>
                    <div class="flex">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" class="size-5">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3" />
                        </svg>
                        <p class="text-gray-900" th:text="${patient.tel_Patient}"></p>
                    </div>
        </div>

    </div>
            <div class="flex">
                <p class="m-2 bg-[#68d391] rounded-sm border-2 border-black pl-3 pr-3" th:text="${patient.profession}"></p>
                <p class="m-2 bg-[#68d391] rounded-sm border-2 border-black pl-3 pr-3" th:text="${patient.mutuelle}"></p>
                <p class="m-2 bg-[#68d391] rounded-sm border-2 border-black pl-3 pr-3" th:text="${patient.groupeSanguin}"></p>
        </div>
    </div>

</div>

        <div class="bg-white m-5 shadow-md rounded-lg overflow-hidden">
            <div class="pt-3 pl-3">
                <div class="flex items-center justify-between">
                <h1 class="text-xl font-bold mb-4">Dossier Medicale</h1>
                    <a th:href="@{'/patients/' + ${patient.id_Patient} + '/dossier'}">
                        <button class="px-4 py-2 mr-6 bg-[#68d391] text-white font-semibold rounded hover:bg-[#056829]">Modifier Dossier</button>
                    </a>                </div>
                <div class="mb-4">
                    <p class="text-gray-900 mb-3" th:text="'Date de Creation: ' + ${patient.dossierMedicale.dateCreation}"></p>
                    <p class="text-gray-900 mb-3" th:text="'Situation Financiere: ' + ${patient.dossierMedicale.situationFinanciere}"></p>
                </div>


            </div>
            </div>
        </div>

    <div class="bg-white m-5 shadow-md rounded-lg overflow-hidden">
        <div class="pt-3 pl-3">
            <div class="flex items-center justify-between">
                <h1 class="text-xl font-bold mb-4">Les Consultations</h1>
                <a th:href="@{'/patients/' + ${patient.id_Patient} + '/consultation/add'}">
                    <button class="px-4 py-2 mr-6 bg-[#68d391] text-white font-semibold rounded hover:bg-[#056829]">Ajouter Consultation</button>
                </a>

            </div>
            <div class="inline-block min-w-full py-2 sm:px-6 lg:px-8">
                <div class="overflow-hidden">
                    <table class="min-w-full text-left text-sm font-light text-surface dark:text-black">
                        <thead class="border-b border-neutral-200 font-medium dark:border-black/10">
                        <tr>
                            <th scope="col" class="px-6 py-4">Acte</th>
                            <th scope="col" class="px-6 py-4">Prix</th>
                            <th scope="col" class="px-6 py-4">Date de Consultation</th>
                            <th scope="col" class="px-6 py-4 text-center">Action</th>

                        </tr>
                        </thead>
                        <tbody>
                        <!-- Boucle sur chaque consultation -->
                        <tr th:each="consultation : ${consultations}" class="border-b border-neutral-200 dark:border-Black/10">
                            <td class="whitespace-nowrap px-6 py-4" th:text="${consultation.acte}"></td>
                            <td class="whitespace-nowrap px-6 py-4" th:text="${consultation.prix}"></td>
                            <td class="whitespace-nowrap px-6 py-4" th:text="${consultation.dateConsultation}"></td>
                            <td class="whitespace-nowrap px-1 py-4 text-center"><a
                                    class="inline-block rounded bg-[#68d391] px-6 pb-2 pt-2.5 text-xs font-medium
                                      uppercase leading-normal text-neutral-50 shadow-dark-3 transition duration-150
                                      ease-in-out hover:bg-[#056829] hover:shadow-dark-2 focus:bg-neutral-700 focus:shadow-dark-2
                                      focus:outline-none focus:ring-0 active:bg-neutral-900 active:shadow-dark-2 motion-reduce:transition-none
                                      dark:shadow-black/30 dark:hover:shadow-dark-strong dark:focus:shadow-dark-strong dark:active:shadow-dark-strong">
                                Infos</a>

                                <a class="inline-block rounded bg-red-600 px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-neutral-50 shadow-dark-3 transition duration-150 ease-in-out hover:bg-red-900 hover:shadow-dark-2 focus:bg-neutral-700 focus:shadow-dark-2 focus:outline-none focus:ring-0 active:bg-neutral-900 active:shadow-dark-2 motion-reduce:transition-none dark:shadow-black/30 dark:hover:shadow-dark-strong dark:focus:shadow-dark-strong dark:active:shadow-dark-strong"
                                   th:href="@{'/patients/' + ${patient.id_Patient} + '/consultation/' + ${consultation.idConsultation} + '/delete'}"
                                   onclick="return confirm('Êtes-vous sûr de vouloir supprimer cette consultation ?');">
                                    Supprimer
                                </a>
                            </td>
                        </tr>

                        </tbody>
                    </table>
                </div>
            </div>

        </div>
    </div>
</div>
</div>
</body>
</html>
